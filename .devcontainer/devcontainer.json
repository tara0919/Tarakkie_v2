{
    "name": "ZMK Firmware Development",
    "image": "docker.io/zmkfirmware/zmk-dev-arm:3.5",
    "remoteUser": "zmk",
    "mounts": [
        "source=${localWorkspaceFolder},target=/workspaces/modular_split_zmk,type=bind"
    ],
    "workspaceFolder": "/workspaces/modular_split_zmk",
    "features": {
        "ghcr.io/devcontainers/features/common-utils:1": {
            "configureZshAsDefaultShell": true
        }
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-vscode.cpptools",
                "ms-vscode.vscode-embedded-tools",
                "marus25.cortex-debug",
                "trond-snekvik.devicetree",
                "ms-python.python"
            ],
            "settings": {
                "devicetree.clint.enable": true,
                "devicetree.clint.useDevicetree": true
            }
        }
    },
    "postCreateCommand": "west init -l config && west update",
    "remoteEnv": {
        "ZEPHYR_TOOLCHAIN_VARIANT": "zephyr",
        "ZEPHYR_SDK_INSTALL_DIR": "/opt/zephyr-sdk-0.16.8"
    }
}
